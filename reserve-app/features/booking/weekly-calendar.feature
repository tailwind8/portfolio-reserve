# language: ja
機能: 週間カレンダー表示での予約

  ユーザーストーリー:
  As a ユーザー
  I want to 週間カレンダーで空き時間を一目で確認したい
  So that 最短ステップで予約を完了できる

  背景:
    前提 システムに以下のメニューが登録されている:
      | メニュー名 | 所要時間 | 料金   |
      | カット     | 60分     | 5000円 |
      | カラー     | 90分     | 8000円 |
    かつ 2026年1月6日（月）から1月12日（日）までの週である
    かつ 以下の時間帯に空き時間がある:
      | 日付       | 時間  | 空き状況 |
      | 2026-01-06 | 09:00 | 空き     |
      | 2026-01-06 | 10:00 | 予約済み |
      | 2026-01-07 | 09:00 | 空き     |
      | 2026-01-07 | 14:00 | 空き     |
      | 2026-01-08 | 10:00 | 空き     |

  シナリオ: 週間カレンダーがデフォルトで表示される
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    もし ページが読み込まれる
    ならば 週間カレンダーが表示される
    かつ 表示モード「週間」がアクティブである
    かつ 2026年1月6日から1月12日の週が表示される

  シナリオ: 週間カレンダーで空き時間が一目でわかる
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    もし 週間カレンダーが表示される
    ならば 月曜日09:00のブロックが緑色で表示される
    かつ 月曜日10:00のブロックがグレーアウト表示される
    かつ 火曜日09:00のブロックが緑色で表示される
    かつ 火曜日14:00のブロックが緑色で表示される
    かつ 水曜日10:00のブロックが緑色で表示される

  シナリオ: 空き時間を1クリックで選択できる
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 週間カレンダーが表示される
    もし 火曜日14:00の空きブロックをクリックする
    ならば 日付「2026年1月7日（火）」が選択される
    かつ 時間「14:00」が選択される
    かつ 予約確定ボタンが有効になる

  シナリオ: 予約済みの時間はクリックできない
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 週間カレンダーが表示される
    もし 月曜日10:00の予約済みブロックをクリックする
    ならば 日付と時間が選択されない
    かつ 予約済みブロックがグレーアウトのまま

  シナリオ: 次週に移動できる
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 週間カレンダーが表示される
    もし 「次週」ボタンをクリックする
    ならば 2026年1月13日から1月19日の週が表示される
    かつ 週のタイトルが「2026年1月13日 〜 1月19日」と表示される

  シナリオ: 前週に移動できる
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 週間カレンダーが表示される
    もし 「前週」ボタンをクリックする
    ならば 2025年12月30日から2026年1月5日の週が表示される

  シナリオ: 月間表示に切り替えられる
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 週間カレンダーが表示される
    もし 「月間」タブをクリックする
    ならば 月間カレンダーが表示される
    かつ 表示モード「月間」がアクティブである
    かつ 週間カレンダーが非表示になる

  シナリオ: 月間表示から週間表示に戻れる
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 「月間」タブをクリックして月間カレンダーを表示している
    もし 「週間」タブをクリックする
    ならば 週間カレンダーが表示される
    かつ 表示モード「週間」がアクティブである
    かつ 月間カレンダーが非表示になる

  シナリオ: 表示モードがLocalStorageに保存される
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 週間カレンダーが表示される
    もし 「月間」タブをクリックする
    かつ ページをリロードする
    ならば 月間カレンダーが表示される
    かつ 表示モード「月間」がアクティブである

  シナリオ: 週間カレンダーの営業時間のみ表示される
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 店舗の営業時間が09:00-18:00である
    もし 週間カレンダーが表示される
    ならば 09:00から18:00の時間帯のみ表示される
    かつ 営業時間外（08:00, 19:00など）は表示されない

  シナリオ: 週間カレンダーで休憩時間がグレー表示される
    前提 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    かつ 店舗の休憩時間が12:00-13:00である
    もし 週間カレンダーが表示される
    ならば 12:00の時間帯に「休憩時間」と表示される
    かつ 休憩時間のブロックがグレーで表示される
    かつ 休憩時間のブロックはクリックできない

  シナリオ: スマホで週間カレンダーを表示する
    前提 スマホ画面サイズでアクセスする
    かつ 予約ページにアクセスする
    かつ メニュー「カット」を選択する
    もし 週間カレンダーが表示される
    ならば 週間カレンダーが縦スクロール可能である
    かつ タイムブロックが十分な大きさで表示される
    かつ タップしやすいサイズである
