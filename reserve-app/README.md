# Reserve System - ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³äºˆç´„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

Next.js + Supabase + Prisma ã§æ§‹ç¯‰ã—ãŸãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªå‘ã‘äºˆç´„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ç¾å®¹å®¤ã€æ­¯ç§‘åŒ»é™¢ã€æ•´ä½“é™¢ãªã©ã®åº—èˆ—å‘ã‘äºˆç´„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚
ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå¯¾å¿œã«ã‚ˆã‚Šã€è¤‡æ•°ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚·ã‚¹ãƒ†ãƒ ã§åŒä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å…±æœ‰å¯èƒ½ã€‚

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 16 (App Router) + React 19
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS v4
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Supabase (PostgreSQL)
- **ORM**: Prisma 7
- **ãƒ†ã‚¹ãƒˆ**: Jest + React Testing Library + Playwright
- **è¨€èª**: TypeScript

## ğŸ“‹ å¿…é ˆè¦ä»¶

- Node.js 20.x ä»¥ä¸Š
- npm ã¾ãŸã¯ yarn
- Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

```bash
cp .env.example .env
```

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã€Supabaseæ¥ç¶šæƒ…å ±ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚
è©³ç´°ã¯[SETUP.md](./SETUP.md)ã‚’å‚ç…§ã€‚

### 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Prisma Clientã‚’ç”Ÿæˆ
npm run prisma:generate

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œï¼ˆSupabaseæ¥ç¶šæƒ…å ±ãŒå¿…è¦ï¼‰
npm run prisma:migrate
```

### 4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ [http://localhost:3000](http://localhost:3000) ã‚’é–‹ã

### 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã®ç¢ºèª

```bash
curl http://localhost:3000/api/health
```

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
reserve-app/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â”‚   â””â”€â”€ migrations/           # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                  # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/              # APIãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â””â”€â”€ ...               # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ components/           # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ prisma.ts         # Prisma Clientã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³
â”‚   â””â”€â”€ __tests__/            # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ .env.example              # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ package.json
â””â”€â”€ SETUP.md                  # è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
```

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

### ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ï¼ˆrestaurant_* prefixï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ«å | èª¬æ˜ |
|-----------|------|
| `restaurant_users` | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± |
| `restaurant_staff` | ã‚¹ã‚¿ãƒƒãƒ•æƒ…å ± |
| `restaurant_menus` | ãƒ¡ãƒ‹ãƒ¥ãƒ¼æƒ…å ± |
| `restaurant_reservations` | äºˆç´„æƒ…å ± |
| `restaurant_settings` | åº—èˆ—è¨­å®š |

ã™ã¹ã¦ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«`tenant_id`ã‚«ãƒ©ãƒ ãŒã‚ã‚Šã€ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

### ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆè¨­è¨ˆ

- **ãƒ†ãƒ¼ãƒ–ãƒ«åãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹**: `restaurant_*`ï¼ˆä»–ã‚·ã‚¹ãƒ†ãƒ ã¯`hotel_*`, `clinic_*`ãªã©ï¼‰
- **è«–ç†çš„åˆ†é›¢**: `tenant_id`ã‚«ãƒ©ãƒ ã§å„ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†é›¢
- **ç’°å¢ƒå¤‰æ•°**: `NEXT_PUBLIC_TENANT_ID`ã§ç¾åœ¨ã®ãƒ†ãƒŠãƒ³ãƒˆã‚’æŒ‡å®š

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### å˜ä½“ãƒ†ã‚¹ãƒˆ

```bash
npm run test
```

### E2Eãƒ†ã‚¹ãƒˆ

```bash
npm run test:e2e
```

### ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ

```bash
npm run test:coverage
```

## ğŸ”§ ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰

### Prismaé–¢é€£

```bash
# Prisma Clientã‚’ç”Ÿæˆ
npm run prisma:generate

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ
npm run prisma:migrate

# Prisma Studioã‚’èµ·å‹•ï¼ˆGUIã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç¢ºèªï¼‰
npm run prisma:studio

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãªã—ï¼‰
npm run prisma:push

# ã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
npm run prisma:format
```

### é–‹ç™ºé–¢é€£

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm start

# Lintå®Ÿè¡Œ
npm run lint
```

## ğŸ“– é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [SETUP.md](./SETUP.md) - è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
- [GitHub Issues](https://github.com/YOUR_USERNAME/reserve-system/issues) - æ©Ÿèƒ½ä¸€è¦§ã¨ã‚¿ã‚¹ã‚¯ç®¡ç†

## ğŸ”— å¤–éƒ¨ãƒªãƒ³ã‚¯

- [Next.js Documentation](https://nextjs.org/docs)
- [Prisma Documentation](https://www.prisma.io/docs)
- [Supabase Documentation](https://supabase.com/docs)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)

## ğŸ“ é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **ATDD/BDDé§†å‹•é–‹ç™º** ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

1. GitHub Issueã§æ©Ÿèƒ½è¦ä»¶ã‚’å®šç¾©
2. BDDã‚·ãƒŠãƒªã‚ªä½œæˆï¼ˆGherkinè¨˜æ³•ï¼‰
3. å—å…¥ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆPlaywrightï¼‰
4. å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆJest + RTLï¼‰
5. æ©Ÿèƒ½å®Ÿè£…
6. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

è©³ç´°ã¯ `documents/é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹è¨­è¨ˆ.md` ã‚’å‚ç…§ã€‚

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
vercel
```

ç’°å¢ƒå¤‰æ•°ã®è¨­å®šæ–¹æ³•ã¯[SETUP.md](./SETUP.md)ã‚’å‚ç…§ã€‚

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç›®çš„ã§ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ™ è¬è¾

- [Next.js](https://nextjs.org/)
- [Supabase](https://supabase.com/)
- [Prisma](https://www.prisma.io/)
