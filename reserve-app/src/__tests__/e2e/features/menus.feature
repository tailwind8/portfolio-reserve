# language: ja

Feature: メニュー一覧表示
  顧客として予約前にメニュー一覧を確認したい

  Background:
    Given ユーザーがメニュー一覧ページにアクセスしている

  # 基本表示
  Scenario: メニュー一覧ページにアクセスする
    Then ページタイトルに「メニュー一覧」が表示される

  Scenario: すべてのアクティブなメニューが表示される
    When ページが読み込まれる
    Then すべてのアクティブなメニューが表示される
    And 各メニューに名前が表示される
    And 各メニューに料金が表示される
    And 各メニューに所要時間が表示される
    And 各メニューに説明が表示される

  Scenario: カテゴリ別にメニューがグループ化されている
    When ページが読み込まれる
    Then カテゴリ見出しが表示される
    And 各カテゴリ配下に該当メニューが表示される

  # メニュー詳細表示
  Scenario: 料金が正しいフォーマットで表示される
    When ページが読み込まれる
    Then 料金が¥記号付きで表示される

  Scenario: 所要時間が分表示される
    When ページが読み込まれる
    Then 所要時間が「分」単位で表示される

  # 予約への遷移
  Scenario: メニューから予約ページへ遷移できる
    When ページが読み込まれる
    And 最初のメニューの「このメニューで予約」ボタンをクリックする
    Then 予約ページ「/booking」にリダイレクトされる
    And メニューIDがクエリパラメータに含まれている

  # 空状態
  Scenario: メニューが存在しない場合の表示
    Given メニューが1件も存在しない
    When メニュー一覧ページにアクセスする
    Then 「メニューが見つかりません」というメッセージが表示される

  # ローディング状態
  Scenario: ローディング状態が表示される
    Given ユーザーがメニュー一覧ページにアクセスする
    When データ取得中である
    Then ローディングインジケーターが表示される
    And メニューカードは表示されない

  # レスポンシブデザイン
  Scenario: モバイルで正しく表示される
    Given モバイル画面サイズ（375x667）に設定している
    When メニュー一覧ページにアクセスする
    Then メニューカードが縦1列で表示される
    And すべてのメニュー情報が読みやすく表示される

  Scenario: タブレットで正しく表示される
    Given タブレット画面サイズ（768x1024）に設定している
    When メニュー一覧ページにアクセスする
    Then メニューカードがグリッド2列で表示される

  Scenario: デスクトップで正しく表示される
    Given デスクトップ画面サイズ（1920x1080）に設定している
    When メニュー一覧ページにアクセスする
    Then メニューカードがグリッド3列以上で表示される

  # インタラクション
  Scenario: メニューカードにマウスホバーでハイライト表示される
    When 最初のメニューカードにマウスをホバーする
    Then メニューカードがハイライト表示される

# Phase 2予定: メニュー検索・フィルタリング
# 現在は実装されていないため、以下のシナリオは将来実装予定

# Scenario: カテゴリでメニューをフィルタリングできる
#   Given カテゴリフィルターが表示されている
#   When 「カット」カテゴリを選択する
#   Then カットメニューのみが表示される

# Scenario: メニュー名で検索できる
#   Given メニュー検索ボックスが表示されている
#   When 検索ボックスに「カット」と入力する
#   Then 「カット」を含むメニューのみが表示される
