# language: ja

機能: フロントエンド機能フラグ制御
  機能フラグに基づいてUIの表示/非表示を制御する

  背景:
    前提 スーパー管理者としてログインしている

  シナリオ: スタッフ指名機能が有効な場合、予約フォームにスタッフ選択が表示される
    前提 機能フラグ "enableStaffSelection" が有効である
    もし 予約ページにアクセスする
    ならば スタッフ選択フィールドが表示される

  シナリオ: スタッフ指名機能が無効な場合、予約フォームにスタッフ選択が表示されない
    前提 機能フラグ "enableStaffSelection" が無効である
    もし 予約ページにアクセスする
    ならば スタッフ選択フィールドが表示されない

  シナリオ: 顧客管理機能が有効な場合、管理画面に顧客メニューが表示される
    前提 機能フラグ "enableCustomerManagement" が有効である
    もし 管理者ダッシュボードにアクセスする
    ならば サイドバーに "顧客管理" メニューが表示される

  シナリオ: 顧客管理機能が無効な場合、管理画面に顧客メニューが表示されない
    前提 機能フラグ "enableCustomerManagement" が無効である
    もし 管理者ダッシュボードにアクセスする
    ならば サイドバーに "顧客管理" メニューが表示されない

  シナリオ: 分析レポート機能が有効な場合、ダッシュボードに分析セクションが表示される
    前提 機能フラグ "enableAnalyticsReport" が有効である
    もし 管理者ダッシュボードにアクセスする
    ならば "分析レポート" セクションが表示される

  シナリオ: 分析レポート機能が無効な場合、ダッシュボードに分析セクションが表示されない
    前提 機能フラグ "enableAnalyticsReport" が無効である
    もし 管理者ダッシュボードにアクセスする
    ならば "分析レポート" セクションが表示されない

  シナリオ: クーポン機能が有効な場合、予約フォームにクーポン入力が表示される
    前提 機能フラグ "enableCouponFeature" が有効である
    もし 予約ページにアクセスする
    ならば クーポン入力フィールドが表示される

  シナリオ: クーポン機能が無効な場合、予約フォームにクーポン入力が表示されない
    前提 機能フラグ "enableCouponFeature" が無効である
    もし 予約ページにアクセスする
    ならば クーポン入力フィールドが表示されない

  シナリオ: 複数の機能を同時に制御できる
    前提 機能フラグ "enableStaffSelection" が有効である
    かつ 機能フラグ "enableCouponFeature" が無効である
    もし 予約ページにアクセスする
    ならば スタッフ選択フィールドが表示される
    かつ クーポン入力フィールドが表示されない

  シナリオ: 機能フラグ取得エラー時はすべての機能が無効になる
    前提 機能フラグAPIがエラーを返す
    もし 予約ページにアクセスする
    ならば スタッフ選択フィールドが表示されない
    かつ クーポン入力フィールドが表示されない
