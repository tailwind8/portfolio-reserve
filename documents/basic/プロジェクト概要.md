# プロジェクト概要

**最終更新**: 2026-01-04

---

## 📌 プロジェクト基本情報

### プロジェクト名
**Reserve System（予約管理システム）**

### コンセプト
美容室・歯科医院・整体院など、多業種対応の店舗専用予約管理システム

### プロジェクト目的
- ホットペッパーなどの予約サイトに依存せず、自社専用の予約システムを低コストで運用
- 24時間自動予約受付でスタッフの負担を軽減
- 顧客データを活用したリピート率向上
- ポートフォリオとしての技術力アピール

---

## 🎯 ターゲットユーザー

### 店舗側（管理者）
- 美容室、歯科医院、整体院、ネイルサロンなどのオーナー
- 予約管理スタッフ
- 経営者（分析レポート活用）

### 顧客側（エンドユーザー）
- 店舗のサービスを利用する一般顧客
- 20代〜50代の幅広い年齢層
- スマホからの予約を希望する層

---

## 🏗️ 技術スタック

### フロントエンド
- **フレームワーク**: Next.js 16 (App Router)
- **言語**: TypeScript (strict mode)
- **UIフレームワーク**: React 19
- **スタイリング**: Tailwind CSS v4

### バックエンド・データベース
- **データベース**: Supabase PostgreSQL
- **ORM**: Prisma 7
- **認証**: Supabase Auth
- **バリデーション**: Zod

### テスト
- **単体テスト**: Jest
- **コンポーネントテスト**: React Testing Library
- **E2Eテスト**: Playwright
- **BDDツール**: Gherkin (`.feature`ファイル)

### インフラ・デプロイ
- **ホスティング**: Vercel
- **CI/CD**: GitHub Actions
- **バージョン管理**: Git / GitHub
- **エラー監視**: Sentry
- **レート制限**: Upstash Redis

### 開発ツール
- **Linter**: ESLint
- **Formatter**: Prettier
- **コミットフック**: Husky + lint-staged

---

## 🌟 主要機能

### ユーザー側機能
1. **認証機能**
   - 新規登録（メール認証）
   - ログイン / ログアウト
   - パスワードリセット

2. **予約機能**
   - 空き状況カレンダー表示
   - メニュー選択
   - スタッフ指名
   - 予約登録・変更・キャンセル
   - 予約確認メール自動送信

3. **マイページ**
   - 予約一覧
   - 来店履歴
   - プロフィール編集

### 管理者側機能
1. **ダッシュボード**
   - 本日の予約件数サマリー
   - 予約状況の可視化

2. **予約管理**
   - カレンダー表示（日/週/月切替）
   - 予約一覧表示
   - 予約の手動追加・編集・削除
   - ステータス変更

3. **顧客管理**
   - 顧客一覧
   - 来店履歴
   - 顧客メモ機能

4. **スタッフ管理**
   - スタッフ登録・編集
   - シフト設定

5. **メニュー管理**
   - メニューCRUD操作
   - カテゴリ管理

6. **店舗設定**
   - 営業時間設定
   - 定休日設定
   - 予約枠設定

---

## 🎨 デザインコンセプト

- **カラースキーム**: 白ベース + 爽やかなブルー
- **方向性**: ミニマル、清潔感、信頼感
- **レスポンシブ**: スマホファースト設計
- **アクセシビリティ**: WCAG 2.1 AA準拠を目指す

---

## 📊 マルチテナント設計

### 概要
1つのデータベースで複数のポートフォリオシステムを管理できるよう設計

### 実装方式
- **テーブル名プレフィックス**: `booking_*`（他システムは`hotel_*`, `clinic_*`など）
- **論理的分離**: `tenant_id`カラムで各テナントのデータを分離
- **環境変数**: `NEXT_PUBLIC_TENANT_ID`で現在のテナントを指定

### メリット
- インフラコストの削減
- 複数のポートフォリオプロジェクトで同一DBを共有可能
- 保守性の向上

---

## 🔄 開発プロセス

### 開発方針
**ATDD/BDD駆動開発**を採用

### 開発フロー
```
1. GitHub Issue作成（機能要件定義）
   ↓
2. Gherkinシナリオ作成（BDD）
   ↓
3. E2Eテスト実装（Playwright）
   ↓ [Red]
4. 単体テスト実装（Jest + RTL）
   ↓ [Red]
5. 最小実装（機能実装）
   ↓ [Green]
6. リファクタリング
   ↓ [Refactor]
7. コードレビュー
   ↓
8. PR作成 → マージ
   ↓
9. Issue Close
```

### 品質基準
- **テストカバレッジ**: 80%以上
- **ESLintエラー**: 0件
- **TypeScriptエラー**: 0件
- **Lighthouseスコア**: 90以上

---

## 📁 プロジェクト構成

```
reserve-system/
├── reserve-app/              # Next.jsアプリケーション
│   ├── src/
│   │   ├── app/             # App Router
│   │   ├── components/      # UIコンポーネント
│   │   ├── lib/             # ユーティリティ
│   │   ├── types/           # 型定義
│   │   └── __tests__/       # テストファイル
│   ├── prisma/
│   │   ├── schema.prisma    # DBスキーマ
│   │   └── migrations/      # マイグレーション
│   ├── public/
│   ├── playwright.config.ts
│   ├── jest.config.js
│   └── package.json
├── documents/               # ドキュメント
│   ├── basic/              # 基本仕様書
│   ├── spec/               # 詳細仕様書
│   ├── architecture/       # アーキテクチャ
│   ├── development/        # 開発プロセス
│   ├── testing/            # テスト仕様
│   ├── deployment/         # デプロイ関連
│   ├── runbook/            # 手順書
│   └── handover/           # 引き継ぎ
├── features/                # Gherkinシナリオ
└── .github/
    ├── ISSUE_TEMPLATE/      # Issueテンプレート
    └── workflows/           # CI/CDワークフロー
```

---

## 🚀 デプロイ環境

### Production
- **URL**: https://reserve-system.vercel.app（予定）
- **データベース**: Supabase Production環境
- **デプロイ**: mainブランチマージ時に自動デプロイ

### Preview
- **URL**: PR毎に動的に生成
- **データベース**: Supabase Preview環境
- **デプロイ**: PR作成時に自動デプロイ

---

## 📈 プロジェクトの目標

### 技術的目標
- ✅ TypeScript strict modeで型安全性を確保
- ✅ テストカバレッジ80%以上
- ✅ Lighthouse Performance 90以上
- ✅ ATDD/BDDプロセスの実践

### ポートフォリオとしての目標
- ✅ 実用的なシステムの構築（実際の店舗で使える品質）
- ✅ モダンな技術スタックの習得
- ✅ テスト駆動開発の実践
- ✅ アーキテクチャ設計力のアピール
- ✅ 保守性・拡張性の高いコード

---

## 📝 関連ドキュメント

### 基本仕様
- `basic/機能一覧とページ設計.md` - 全機能とページ構成
- `basic/proposal.md` - プロジェクト提案書

### 詳細仕様
- `spec/データベース設計書.md` - DB設計
- `api/API設計書.md` - API仕様

### アーキテクチャ
- `architecture/システムアーキテクチャ.md` - システム構成
- `architecture/マルチテナント設計.md` - テナント分離設計

### 開発プロセス
- `development/開発プロセス設計.md` - 開発フロー
- `development/開発プロセスルール.md` - 開発ルール
- `development/開発プロセス改善提案.md` - プロセス改善

### テスト
- `testing/テスト戦略.md` - テスト方針
- `deployment/CI-CD運用ガイド.md` - CI/CD運用

### 手順書
- `runbook/開発開始ガイド.md` - 開発開始手順
- `runbook/ATDD-BDD環境セットアップ.md` - テスト環境構築

### デプロイ
- `deployment/Vercel環境変数設定.md` - Vercel設定

---

## 📞 問い合わせ

質問や提案がある場合は、GitHub Issueを作成してください。

**プロジェクトリポジトリ**: https://github.com/[your-username]/reserve-system
